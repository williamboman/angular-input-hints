/*
	angular-input-hints v1.0.0
	https://github.com/williamboman/angular-input-hints

	Copyright (c) 2017 William Boman <william@redwill.se>

	License: MIT (https://github.com/williamboman/angular-input-hints/blob/master/LICENSE)
*/


!function(a){"use strict";a.module("wb.inputHints",["wb.inputHints.service","wb.inputHints.directive"]),a.module("wb.inputHints.directive",[]).directive("inputHints",["InputHints","$parse",function(b,c){return{restrict:"A",link:function(d,e,f){var g={waitBeforeDeleteMs:f.waitBeforeDeleting||f.waitBeforeDelete,waitInBetweenMs:f.waitInBetween,writeSpeedMs:f.writeSpeed,deleteSpeedMs:f.deleteSpeed};a.forEach(g,function(a,b){"undefined"==typeof a&&delete g[b]});var h=c(f.inputHints)(d),i=new b(g,h);i.onTick=function(a){e.attr("placeholder",a)},i.init()}}}]),a.module("wb.inputHints.service",[]).provider("InputHints",function(){var b=this.config={waitBeforeDeleteMs:2e3,waitInBetweenMs:300,writeSpeedMs:100,deleteSpeedMs:60};this.$get=["$timeout",function(c){function d(c,d){c=c||{},this.currentPlaceholderText="",this.currentPlaceholdersIndex=0,this.currentPlaceholderIndex=0,this.isDeleting=!1,this.timeout=void 0,this.placeholders=d,this.config=a.copy(b),a.extend(this.config,c)}return d.prototype={init:function(){if(!this.placeholders)throw new TypeError("[wb.inputHints] This instance of Ticker is missing Ticker.placeholders property.");if(!this.onTick||"function"!=typeof this.onTick)throw new TypeError("[wb.inputHints] This instance of Ticker is missing a valid Ticker.onTick callback function.");this.tick()},stop:function(){c.cancel(this.timeout)},resume:function(){this.tick()},tick:function(){var a=this;return c.cancel(this.timeout),this.isDeleting?this.currentPlaceholderIndex--:this.currentPlaceholderIndex++,this.currentPlaceholderIndex>this.placeholders[this.currentPlaceholdersIndex].length?(this.isDeleting=!0,void(this.timeout=c(function(){a.tick()},this.getTickTime("beforeDeleting")))):this.currentPlaceholderIndex<0?(this.isDeleting=!1,this.currentPlaceholdersIndex++,this.currentPlaceholdersIndex>=this.placeholders.length&&(this.currentPlaceholdersIndex=0),void(this.timeout=c(function(){a.tick()},this.getTickTime("inBetween")))):(this.currentPlaceholderText=this.placeholders[this.currentPlaceholdersIndex].substr(0,this.currentPlaceholderIndex),this.onTick(this.currentPlaceholderText),void(this.timeout=c(function(){a.tick()},this.isDeleting?this.getTickTime("deleting"):this.getTickTime("writing"))))},getTickTime:function(a){switch(a){case"writing":return this.config.writeSpeedMs-Math.random()*this.config.writeSpeedMs;case"deleting":return this.config.deleteSpeedMs-Math.random()*this.config.deleteSpeedMs;case"beforeDeleting":return this.config.waitBeforeDeleteMs;case"inBetween":return this.config.waitInBetweenMs;default:throw new ReferenceError("Trying to get a non-existent tick-time.")}}},d}]})}(window.angular);